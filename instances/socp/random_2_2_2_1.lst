GAMS 28.2.0  r750fa45 Released Aug 19, 2019 LEX-LEG x86 64bit/Linux                                                                                                                                                                    11/04/19 14:11:15 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  execseed =         1;
   2  set      k               disjunctions                    /1*2/
   3           i               disjunctive terms               /1*2/
   4           j               dimension of variables          /1*2/
   5  ;
   6  alias(i,ii);
   7  alias(j,jj);
   8   
   9   
  10  **** END USER INPUT
  11   
  12  * printing results
  13  set      reform          /
  14                           BM
  15                           HR
  16                           HRL
  17                           HR2
  18                           HR2conv
  19                           HR2c
  20                           rBM
  21                           rHR
  22                           rHRL
  23                           rHR2
  24                           rHR2conv
  25                           /
  26  ;
  27  set      metrics         /
  28                           obj
  29                           time
  30                           node
  31                           gap
  32                           /
  33  ;
  34  set      solvers         /
  35                           CONOPT
  36                           IPOPT
  37                           KNITRO
  38                           GUROBI
  39                           CPLEX
  40                           BARON
  41                           SBB_CONOPT
  42                           SBB_IPOPT
  43                           SBB_KNITRO
  44                           SBB_GUROBI
  45                           SBB_CPLEX
  46                           SBB_MOSEK
  47                           MOSEK
  48                           DICOPT_IPOPT_GUROBI
  49                           DICOPT_MOSEK_GUROBI
  50                           SCIP
  51                           /
  52  ;
  53  set      mods            /
GAMS 28.2.0  r750fa45 Released Aug 19, 2019 LEX-LEG x86 64bit/Linux                                                                                                                                                                    11/04/19 14:11:15 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  54                           BM
  55                           HR
  56                           HR2
  57                           HR2c
  58                           HR2conv
  59                           /
  60  ;
  61  set      stats           /
  62                           nvars
  63                           neqs
  64                           ndvars
  65                           /
  66  ;
  67   
  68  parameter        results(metrics,reform,solvers)
  69                   prob_stat(stats,mods);
  70   
  71  * Generate random problem
  72   
  73  parameters       c(j)            cost coefficient for variable j
  74                   a1(k,i,j)       quadratic coefficient for variable j
  75                   a2(k,i,j)       linear coefficient for variable j
  76                   a3(k,i)         constant coefficient
  77                   x_up(j)         upper bound for var j
  78                   x_lo(j)         lower bound for var j
  79                   M(k,i)
  80                   lambda(k,j)
  81  ;
  82   
  83  c(j)       = uniform(-1,1)*1000;
  84  a1(k,i,j)  = uniform(.01,1);
  85  a2(k,i,j)  = uniform(-1,1);
  86  a3(k,i)    = uniform(-1,1);
  87  x_up(j)    = 100;
  88  x_lo(j)    = -100;
  89   
  90   
  91  * Begin problem
  92   
  93  variables        obj
  94                   x(j)
  95                   ni(k,i,j)
  96                   ni_cone(k,i,j)
  97  ;
  98   
  99  binary variable  y(k,i);
 100   
 101  positive variable t(k,i);
 102   
 103  equations        objective
 104                   disj_BM
 105                   sum_bin
 106                   disag
GAMS 28.2.0  r750fa45 Released Aug 19, 2019 LEX-LEG x86 64bit/Linux                                                                                                                                                                    11/04/19 14:11:15 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 107                   disj_HRLee
 108                   disj_HR
 109                   bound_up
 110                   bound_lo
 111                   disag2
 112                   disj_HR2
 113                   disj_HR2conv
 114                   disj_HR2c
 115                   extr_HR2
 116                   cone_HR2
 117                   bound_up2
 118                   bound_lo2
 119  ;
 120   
 121  *Variable bounds
 122  parameter ni_center(k,i,j),ni_min(k,i,j),ni_max(k,i,j),max_dev(k,i,j);
 123   
 124  ni_center(k,i,j) = -a2(k,i,j)/(2*a1(k,i,j));
 125  ni.up(k,i,j) = min((-a2(k,i,j)+sqrt(sqr(a2(k,i,j))-4*a1(k,i,j)*(a3(k,i)-1+sum(jj$(ord(j) ne ord(jj)),a1(k,i,jj)*sqr(ni_center(k,i,jj))+a2(k,i,jj)*ni_center(k,i,jj)))))/(2*a1(k,i,j)),x_up(j));
 126  ni.lo(k,i,j) = max((-a2(k,i,j)-sqrt(sqr(a2(k,i,j))-4*a1(k,i,j)*(a3(k,i)-1+sum(jj$(ord(j) ne ord(jj)),a1(k,i,jj)*sqr(ni_center(k,i,jj))+a2(k,i,jj)*ni_center(k,i,jj)))))/(2*a1(k,i,j)),x_lo(j));
 127  x.up(j) = min(smax((k,i),ni.up(k,i,j)),x_up(j)) ;
 128  x.lo(j) = max(smin((k,i),ni.lo(k,i,j)),x_lo(j)) ;
 129  ni_cone.up(k,i,j) = sqrt(2*a1(k,i,j))*ni.up(k,i,j) ;
 130  ni_cone.lo(k,i,j) = sqrt(2*a1(k,i,j))*ni.lo(k,i,j) ;
 131  t.up(k,i) = min(1 - a3(k,i) + max(-sum(j,a2(k,i,j)*ni.up(k,i,j)),-sum(j,a2(k,i,j)*ni.lo(k,i,j))),
 132              max(sum(j,a1(k,i,j)*sqr(ni.up(k,i,j))),sum(j,a1(k,i,j)*sqr(ni.lo(k,i,j)))));
 133   
 134  *Calculation M parameter
 135  ni_min(k,i,j) = (-a2(k,i,j)-sqrt(sqr(a2(k,i,j))-4*a1(k,i,j)*(a3(k,i)-1+sum(jj$(ord(j) ne ord(jj)),a1(k,i,jj)*sqr(ni_center(k,i,jj))+a2(k,i,jj)*ni_center(k,i,jj)))))/(2*a1(k,i,j));
 136  ni_max(k,i,j) = (-a2(k,i,j)+sqrt(sqr(a2(k,i,j))-4*a1(k,i,j)*(a3(k,i)-1+sum(jj$(ord(j) ne ord(jj)),a1(k,i,jj)*sqr(ni_center(k,i,jj))+a2(k,i,jj)*ni_center(k,i,jj)))))/(2*a1(k,i,j));
 137  max_dev(k,i,j) = max(smax(ii,abs(ni_center(k,i,j)-ni_min(k,ii,j))),smax(ii,abs(ni_center(k,i,j)-ni_max(k,ii,j))));
 138  M(k,i) = sum(j,sqr(max_dev(k,i,j))*a1(k,i,j)) + a3(k,i) - sum(j, a1(k,i,j)*sqr(ni_center(k,i,j)));
 139   
 140  scalar epsilon /1e-4/;
 141   
 142  objective ..               obj =e= sum(j,c(j)*x(j));
 143  disj_BM(k,i)..             sum(j,a1(k,i,j)*sqr(x(j))) + sum(j,a2(k,i,j)*x(j)) + a3(k,i) =l= 1 + M(k,i)*(1-y(k,i));
 144  sum_bin(k)..               sum(i,y(k,i)) =e= 1;
 145   
 146  *HR
 147  disj_HRLee(k,i)..          sum(j,a1(k,i,j)*sqr(ni(k,i,j)))/(y(k,i)+epsilon) + sum(j,a2(k,i,j)*ni(k,i,j)) =l= (1 - a3(k,i))*y(k,i);
 148  disj_HR(k,i)..             sum(j,a1(k,i,j)*sqr(ni(k,i,j)))/(y(k,i)*(1-epsilon)+epsilon) + sum(j,a2(k,i,j)*ni(k,i,j)) =l= (1 - a3(k,i))*y(k,i);
 149  disag(k,j)..               sum(i,ni(k,i,j)) =e= x(j);
 150  bound_up(k,i,j)..          ni(k,i,j) =l= x_up(j)*y(k,i);
 151  bound_lo(k,i,j)..          ni(k,i,j) =g= x_lo(j)*y(k,i);
 152   
 153  *HR2
 154  disj_HR2(k,i)..            (y(k,i)*t(k,i)) =g= sum(j,a1(k,i,j)*sqr(ni(k,i,j)));
 155  disj_HR2conv(k,i)..        sqr(y(k,i) + t(k,i)) =g= (sum(j,a1(k,i,j)*sqr(ni(k,i,j)))*4 + sqr(y(k,i) - t(k,i)));
 156  extr_HR2(k,i)..            t(k,i) + sum(j,a2(k,i,j)*ni(k,i,j)) =l= (1 - a3(k,i))*y(k,i);
 157   
 158  disj_HR2c(k,i)..           2*(y(k,i)*t(k,i)) =g= sum(j,sqr(ni_cone(k,i,j)));
 159  cone_HR2(k,i,j)..          ni_cone(k,i,j) =e= sqrt(2*a1(k,i,j))*ni(k,i,j);
GAMS 28.2.0  r750fa45 Released Aug 19, 2019 LEX-LEG x86 64bit/Linux                                                                                                                                                                    11/04/19 14:11:15 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


 160   
 161  model prob_BM /objective,disj_BM,sum_bin/;
 162  model prob_HR /objective,disj_HR,sum_bin,disag,bound_up,bound_lo/;
 163  model prob_HRL /objective,disj_HRLee,sum_bin,disag,bound_up,bound_lo/;
 164  model prob_HR2 /objective,disj_HR2,sum_bin,disag,bound_up,bound_lo,extr_HR2/;
 165  model prob_HR2conv /objective,disj_HR2conv,sum_bin,disag,bound_up,bound_lo,extr_HR2/;
 166  model prob_HR2c /objective,disj_HR2c,sum_bin,disag,bound_up,bound_lo,extr_HR2,cone_HR2/;
 167   
 168  prob_BM.nodLim = 1e8;
 169  prob_HR.nodLim = 1e8;
 170  prob_HRL.nodLim = 1e8;
 171  prob_HR2.nodLim = 1e8;
 172  prob_HR2c.nodLim = 1e8;
 173   
 174  option   optcr = 1e-5
 175           reslim = 3600
 176           iterlim = 1e9
 177           solprint = off
 178           limrow = 0
 179           limcol = 0
 180           bratio = 1
 181           threads = 1
 182  ;
 183  * Solve BM reformulation continuous relaxations
 184  x.l(j) = 1;
 185  y.l(k,i) = 1;
 186  ni.l(k,i,j) = 1;
 187   
 188   
 189   
 191  Solve prob_BM using MIQCP minimizing obj;


COMPILATION TIME     =        0.003 SECONDS      3 MB  28.2.0 r750fa45 LEX-LEG
GAMS 28.2.0  r750fa45 Released Aug 19, 2019 LEX-LEG x86 64bit/Linux                                                                                                                                                                    11/04/19 14:11:15 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE prob_BM Using MIQCP From line 191


MODEL STATISTICS

BLOCKS OF EQUATIONS           3     SINGLE EQUATIONS            7
BLOCKS OF VARIABLES           3     SINGLE VARIABLES            7
NON ZERO ELEMENTS            19     NON LINEAR N-Z              8
DERIVATIVE POOL              20     CONSTANT POOL              32
CODE LENGTH                  48     DISCRETE VARIABLES          4


GENERATION TIME      =        0.050 SECONDS      4 MB  28.2.0 r750fa45 LEX-LEG


EXECUTION TIME       =        0.076 SECONDS      4 MB  28.2.0 r750fa45 LEX-LEG
GAMS 28.2.0  r750fa45 Released Aug 19, 2019 LEX-LEG x86 64bit/Linux                                                                                                                                                                    11/04/19 14:11:15 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE prob_BM Using MIQCP From line 191


               S O L V E      S U M M A R Y

     MODEL   prob_BM             OBJECTIVE  obj
     TYPE    MIQCP               DIRECTION  MINIMIZE
     SOLVER  SBB                 FROM LINE  191

**** SOLVER STATUS     1 Normal Completion         
**** MODEL STATUS      8 Integer Solution          
**** OBJECTIVE VALUE             -640.3953

 RESOURCE USAGE, LIMIT          1.016      3600.000
 ITERATION COUNT, LIMIT        63    1000000000
 EVALUATION ERRORS              0             0

COIN-OR Ipopt    28.2.0 r750fa45 Released Aug 19, 2019 LEG x86 64bit/Linux    

 ^^^ Detailed root node information above.

 Integer solution
 Statistics:
    B&B nodes     :                 6
    MIP solution  :       -640.395258 found in node 6
    Best possible :       -640.395258
    Absolute gap  :          0.000000     optca :  0.000000
    Relative gap  :          0.000000     optcr :  0.000010
    Model Status  :                 8
    Solver Status :                 1


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
                             0     ERRORS
                             1  PROJECTED


EXECUTION TIME       =        0.030 SECONDS      2 MB  28.2.0 r750fa45 LEX-LEG


USER: Eval License Carnegie Mellon University        G190206/0001AB-GEN
      Dept. of Chemical Engineering                              DC9476
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      /home/bernalde/Repositories/conic_disjunctive/instances/socp/random_2_2_2_1.gms
Output     /home/bernalde/Repositories/conic_disjunctive/instances/socp/random_2_2_2_1.lst
